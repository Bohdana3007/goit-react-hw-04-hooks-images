(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__C4Wz3",image:"ImageGalleryItem_image__3tOpS"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__2awL-",modal:"Modal_modal__3TV41"}},15:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1BEaH"}},16:function(e,t,a){e.exports={button:"Button_button__3GrVr"}},17:function(e,t,a){e.exports={loader:"Loader_loader__1V8Kf"}},23:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__33QqQ",searchForm:"Searchbar_searchForm__2mXBG",button:"Searchbar_button__2KkXR",label:"Searchbar_label__3O4wF",input:"Searchbar_input__2nI5H"}},45:function(e,t,a){"use strict";a.r(t);var n=a(14),c=a.n(n),r=a(1),o=a.n(r),i=(a(22),a(23),a(12)),s=a(3),l=a(8),u=a.n(l),b=a(4),j=a.n(b),m=a(0);function d(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1];return Object(m.jsx)("header",{className:j.a.searchbar,children:Object(m.jsxs)("form",{className:j.a.searchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(m.jsx)("button",{type:"submit",className:j.a.button,children:Object(m.jsx)("span",{className:j.a.label,children:"Search"})}),Object(m.jsx)("input",{className:j.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.target;o(t.value)}})]})})}var f=a(15),g=a.n(f),h=a(10),p=a.n(h),O=a(11),_=a.n(O),x=a(7),v=a.n(x);a(13);function y(e){var t=e.onClose,a=e.src,n=Object(r.useState)(!1),c=Object(s.a)(n,2),o=c[0],i=c[1],l=function(){i((function(e){return!e}))};return Object(r.useEffect)((function(){return document.body.style.position="fixed",function(){document.body.style.position="relative"}})),Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return l(),window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(m.jsxs)("div",{className:_.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:[Object(m.jsx)("img",{className:_.a.modal,src:a,alt:"",onLoad:l}),o&&Object(m.jsx)(v.a,{type:"BallTriangle",color:"#3f51b5",height:350})]})}function S(e){var t=e.imageData,a=t.id,n=t.webformatURL,c=t.largeImageURL,o=Object(r.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],b=Object(r.useState)(null),j=Object(s.a)(b,2),d=j[0],f=j[1],g=function(){u((function(e){return!e}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:p.a.imageGalleryItem,children:Object(m.jsx)("img",{src:n,alt:a,className:p.a.image,"data-largeimg":c,onClick:function(e){f(e.target.dataset.largeimg),g()}})}),l&&Object(m.jsx)(y,{onClose:g,src:d})]})}function w(e){var t=e.gallery;return Object(m.jsx)("ul",{className:g.a.imageGallery,children:t.map((function(e,t){return Object(m.jsx)(S,{imageData:e},t)}))})}var N=a(16),k=a.n(N);function I(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:k.a.button,onClick:t,children:"Load more"})}var G=a(17),C=a.n(G);function E(){return Object(m.jsx)("div",{className:C.a.loader,children:Object(m.jsx)(v.a,{type:"BallTriangle",color:"#3f51b5",height:60})})}var L=a.p+"static/media/waiting.20c59006.jpg",F=a.p+"static/media/error.4efd80f6.gif";var A={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18969106-b552d166da3dfed7b4523ee16","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "'.concat(e,'"')))}))}},q="idle",B="pending",H="resolved",T="rejected";function D(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),o=Object(s.a)(c,2),l=o[0],b=o[1],j=Object(r.useState)(0),f=Object(s.a)(j,2),g=f[0],h=f[1],p=Object(r.useState)(q),O=Object(s.a)(p,2),_=O[0],x=O[1],v=Object(r.useState)(null),y=Object(s.a)(v,2),S=y[0],N=y[1],k=Object(r.useState)(null),G=Object(s.a)(k,2),C=G[0],D=G[1];return Object(r.useEffect)((function(){l&&(x(B),A.fetchImages(l,g).then((function(e){if(D(e.totalHits),e.totalHits<1)return Promise.reject(new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(l)));n((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),x(H)})).catch((function(e){N(e),x(T)})))}),[g,l]),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(m.jsxs)("div",{className:u.a.App,children:[Object(m.jsx)(d,{onSubmit:function(e){b(e),h(1),n([])}}),(_===q||_===T)&&Object(m.jsxs)("div",{className:u.a.waiting,children:[Object(m.jsx)("p",{children:_===q?"Waiting for queue":_===T&&S.message}),Object(m.jsx)("img",{src:_===q&&L||_===T&&F,alt:"",className:u.a.image})]}),(_===H||_===B)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(w,{gallery:a}),C>a.length&&Object(m.jsx)(I,{onClick:function(){h((function(e){return e+1}))}}),_===B&&Object(m.jsx)(E,{})]})]})}c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(D,{})}),document.querySelector("#root"))},8:function(e,t,a){e.exports={App:"App_App__k-Lr0",waiting:"App_waiting__3o7Yj",image:"App_image__2tPNq"}}},[[45,1,2]]]);
//# sourceMappingURL=main.232589ca.chunk.js.map